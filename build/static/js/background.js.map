{"version":3,"file":"static/js/background.js","mappings":"AAiBAA,OAAOC,QAAQC,UAAUC,aAAY,CAACC,EAASC,EAAQC,KACnD,GAAwB,YAApBF,EAAQG,QAYR,OAXAP,OAAOQ,KAAKC,kBAAkBJ,EAAOK,IAAIC,SAAU,CAC/CC,OAAQR,EAAQQ,QAAU,MAC1BC,QAAST,EAAQS,SAAW,IAC5BC,IACId,OAAOC,QAAQc,WACfC,QAAQC,MAAM,uBAAwBjB,OAAOC,QAAQc,WACrDT,EAAa,CAAEW,MAAOjB,OAAOC,QAAQc,UAAUR,WAE/CD,EAAa,CAAEY,MAAOJ,GAC1B,KAEG,CACX","sources":["background/index.js"],"sourcesContent":["// chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n//     try {\n//         if (changeInfo.status === 'loading') {\n//             const storyJumperPattern = /https:\\/\\/.*storyjumper\\.com\\/sjeditor\\/edit\\//;\n//             const regexTest = storyJumperPattern.test(tab.url);\n//             if (regexTest) {\n//                 chrome.action.setIcon({ path: '../../icons/normal_48.png', tabId: tabId });\n//             } else {\n//                 chrome.action.setIcon({ path: '../../icons/grayed_out_48.png', tabId: tabId });\n//             }\n//         }\n//     } catch (error) {\n//         console.error('Error occurred:', error);\n//     }\n// });\n\n// Handle screen capture requests from content scripts\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n    if (request.message === 'capture') {\n        chrome.tabs.captureVisibleTab(sender.tab.windowId, {\n            format: request.format || 'png',\n            quality: request.quality || 1.0\n        }, (dataUrl) => {\n            if (chrome.runtime.lastError) {\n                console.error('Error capturing tab:', chrome.runtime.lastError);\n                sendResponse({ error: chrome.runtime.lastError.message });\n            } else {\n                sendResponse({ image: dataUrl });\n            }\n        });\n        return true; // Keep message channel open for async response\n    }\n});\n"],"names":["chrome","runtime","onMessage","addListener","request","sender","sendResponse","message","tabs","captureVisibleTab","tab","windowId","format","quality","dataUrl","lastError","console","error","image"],"sourceRoot":""}